<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Declassified</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style2.css">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script src="donut.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>
    <section id="worldmap">
        <div id="intel-graph" class="graph"></div>
        <div id="graph-box">
            <canvas id="season-graph" class="graph"></canvas>
        </div>
        <button class="btn">test</button>
        <input type="checkbox" name="checkbox" id="thing" class="check">
    </section>
    <script>
        let intelTotal = {
            Maxis: 100,
            Requiem: 50,
            Omega: 140,
            DarkAether: 200,
        }
        intelTotal.All = intelTotal.Maxis + intelTotal.Requiem + intelTotal.Omega + intelTotal.DarkAether;

        let collectedIntel = {
            Maxis: 70,
            Requiem: 50,
            Omega: 100,
            DarkAether: 10,
        }
        collectedIntel.Not = intelTotal.All - collectedIntel.Maxis - collectedIntel.Requiem - collectedIntel.Omega - collectedIntel.DarkAether;

        // donut.js
        var mychart = new DonutChart(
            document.getElementById("intel-graph"), {
                r: 90,
                stroke: 30,
                scale: 100,
                items: [{
                    label: "R",
                    value: (collectedIntel.Requiem / intelTotal.All)
                }, {
                    label: "O",
                    value: (collectedIntel.Omega / intelTotal.All)
                }, {
                    label: "M",
                    value: (collectedIntel.Maxis / intelTotal.All)
                }, {
                    label: "D",
                    value: (collectedIntel.DarkAether / intelTotal.All)
                }, {
                    label: "N",
                    value: (collectedIntel.Not / intelTotal.All)
                }, ]

            })
    </script>
    <!-- chart.js -->
    <script>
        const factionColor = {
            Requiem: '#50809c',
            Omega: '#b33536',
            Maxis: '#252d5c',
            DarkAether: '#472359',
        }
        const data = {
            labels: [
                'Requiem',
                'Omega',
                'Maxis',
                'Dark Aether',
                'Not Collected'
            ],
            datasets: [{
                label: 'Total Intel Per Season',
                data: [
                    collectedIntel.Requiem,
                    collectedIntel.Omega,
                    collectedIntel.Maxis,
                    collectedIntel.DarkAether,
                    collectedIntel.Not
                ],
                backgroundColor: [
                    factionColor.Requiem,
                    factionColor.Omega,
                    factionColor.Maxis,
                    factionColor.DarkAether,
                    '#565555'
                ],
                borderWidth: 0,
                hoverOffset: 4,
                weight: 5
            }]
        };

        const config = {
            type: 'doughnut',
            data: data,
            options: {
                radius: "90%",
                cutout: "70%",
                plugins: {
                    layout: {
                        padding: 20
                    },
                    legend: {
                        display: false
                    }
                }
            }
        };
        var myChart = new Chart(
            document.getElementById('season-graph'),
            config
        );
    </script>
    </script>

</body>

</html>
